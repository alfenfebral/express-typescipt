import Todo, { ITodo } from './todo';
import * as chai from 'chai';
import 'mocha';
import sinon from 'sinon';

const expect = chai.expect;

describe('TodoModel', () => {
  const mockDbCollection = {
    find() {
      return sinon.stub().returns([]);
    }
  };

  const todo:any = Todo;
  sinon.stub(todo, 'collection')
    .returns(mockDbCollection);

  it('collection.find should return array', async () => {
    const result = await todo.find();
    expect(result).to.be.an('array');
  })
})